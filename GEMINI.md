# Gemini CLI é–‹ç™¼è¦ç¯„ (Development Protocol)

æœ¬æª”æ¡ˆå®šç¾©äº† AI Agent åœ¨æ­¤å°ˆæ¡ˆä¸­çš„æ¨™æº–å·¥ä½œæµç¨‹èˆ‡æ“ä½œè¦ç¯„ã€‚

---

## ğŸ” é–‹ç™¼èˆ‡ç¶­è­·å·¥ä½œæµ (The Workflow)

ä½ å¿…é ˆåš´æ ¼éµå¾ªä»¥ä¸‹å¾ªç’°ä¾†è™•ç†æ¯ä¸€æ¬¡çš„ä»£ç¢¼è®Šæ›´ï¼š

### ç¬¬ä¸€éšæ®µï¼šå¯¦ä½œèˆ‡ä¿®æ”¹ (Implementation)
1. **ç†è§£éœ€æ±‚**: ç¢ºèªç›®æ¨™æ˜¯ä¿®å¾© (Fix)ã€æ–°åŠŸèƒ½ (Feat) é‚„æ˜¯é‡æ§‹ (Refactor)ã€‚
2. **ä»£ç¢¼ä¿®æ”¹**:
   - éµå¾ª `ES6+` æ¨™æº–èˆ‡ä¸‹æ–¹çš„[ç¨‹å¼ç¢¼é¢¨æ ¼](#-ç¨‹å¼ç¢¼é¢¨æ ¼-code-style)ã€‚
   - ä¿æŒ `src/` ç›®éŒ„çš„æ¨¡çµ„åŒ–çµæ§‹ã€‚
   - **ç¦æ­¢**ç›´æ¥ä¿®æ”¹ `youtube-homepage-cleaner.user.js` (é€™æ˜¯ Build ç”¢ç‰©)ã€‚

### ç¬¬äºŒéšæ®µï¼šæ–‡æª”åŒæ­¥ (Documentation Sync) ğŸš¨ **CRITICAL**
æ¯æ¬¡ä¿®æ”¹ä»£ç¢¼å¾Œï¼Œ**å¿…é ˆ**æª¢æŸ¥ä¸¦æ›´æ–°å°æ‡‰æ–‡æª”ï¼š

| ä¿®æ”¹é¡å‹ | å¿…é ˆæ›´æ–°çš„æ–‡æª” | æ“ä½œèªªæ˜ |
| :--- | :--- | :--- |
| **âœ¨ æ–°åŠŸèƒ½ (Feat)** | `README.md` | æ›´æ–°åŠŸèƒ½åˆ—è¡¨ã€æˆªåœ–æˆ–è¨­å®šèªªæ˜ |
| | `CHANGELOG.md` | åœ¨ `[Unreleased]` æˆ–æ–°ç‰ˆæœ¬è™Ÿä¸‹æ–°å¢æ¢ç›® |
| | `package.json` | è‹¥æº–å‚™ç™¼å¸ƒï¼Œæå‡ version (SemVer) |
| **ğŸ› ä¿®å¾© (Fix)** | `CHANGELOG.md` | åœ¨ `Fixed` å€å¡Šè¨˜éŒ„ä¿®å¾©å…§å®¹èˆ‡åŸå›  |
| **ğŸ—ï¸ æ¶æ§‹/é‚è¼¯è®Šæ›´** | `DEVELOPMENT.md` | æ›´æ–°æŠ€è¡“æ±ºç­–ã€æ¨¡çµ„åœ–æˆ–æµç¨‹èªªæ˜ |
| **ğŸ“¦ ç™¼å¸ƒæ–°ç‰ˆ** | `src/meta.json` | ç¢ºä¿å…ƒæ•¸æ“šç‰ˆæœ¬èˆ‡ `package.json` ä¸€è‡´ |

### ç¬¬ä¸‰éšæ®µï¼šé©—è­‰èˆ‡äº¤ä»˜ (Verification)
1. **åŸ·è¡Œæ¸¬è©¦**: `npm test` (ç¢ºä¿é‚è¼¯ç„¡å£æ)ã€‚
2. **åŸ·è¡Œæ§‹å»º**: `npm run build` (æ›´æ–° `user.js`)ã€‚
3. **æäº¤è®Šæ›´**: ä½¿ç”¨ Conventional Commits æ ¼å¼ (`feat:`, `fix:`, `docs:` ç­‰)ã€‚

---

## ğŸ’¬ æºé€šèˆ‡èªè¨€

| å ´åˆ | èªè¨€ |
|------|------|
| èˆ‡ AI å°è©± | ç¹é«”ä¸­æ–‡ |
| ç¨‹å¼ç¢¼è¨»è§£ | ç¹é«”ä¸­æ–‡ |
| Commit Message | è‹±æ–‡ |
| README æ–‡ä»¶ | ä¸­è‹±é›™èª |

---

## ğŸ¨ ç¨‹å¼ç¢¼é¢¨æ ¼ (Code Style)

```javascript
// âœ… æ­£ç¢º (Correct)
const videoContainer = document.querySelector('#content');
if (videoContainer?.classList.contains('active')) {
    processVideo(videoContainer);
}

// âŒ éŒ¯èª¤ (Wrong)
const video_container = document.querySelector("#content") // No snake_case, missing semi
```

**æ ¸å¿ƒè¦å‰‡**ï¼š
- å­—ä¸²ä½¿ç”¨å–®å¼•è™Ÿ `'`ã€‚
- èªå¥çµå°¾**å¿…é ˆ**åŠ åˆ†è™Ÿ `;`ã€‚
- è®Šæ•¸å‘½åä½¿ç”¨ `camelCase`ã€‚
- å„ªå…ˆä½¿ç”¨ç¾ä»£èªæ³• (`?.`, `??`, `const/let`)ã€‚

---

## ğŸš€ Git èˆ‡ç™¼å¸ƒ (Git & Release)

### Commit é¡å‹
- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®è£œ Bug
- `docs:` åƒ…ä¿®æ”¹æ–‡ä»¶
- `style:` æ ¼å¼ä¿®æ”¹ (ä¸å½±éŸ¿ä»£ç¢¼é‹è¡Œ)
- `refactor:` é‡æ§‹ (ç„¡æ–°åŠŸèƒ½ä¿®å¾©)
- `chore:` æ§‹å»ºéç¨‹æˆ–è¼”åŠ©å·¥å…·çš„è®Šæ›´

### ç™¼å¸ƒæµç¨‹ (Release Cycle)
1. å®Œæˆæ‰€æœ‰ä»£ç¢¼èˆ‡æ–‡æª”ä¿®æ”¹ã€‚
2. åŸ·è¡Œ `npm test` && `npm run build`ã€‚
3. æäº¤ä»£ç¢¼ã€‚
4. æ‰“ä¸Šæ¨™ç±¤: `git tag v1.x.x`ã€‚
5. æ¨é€: `git push origin main --tags`ã€‚

---

## ğŸ”§ å¸¸è¦‹å•é¡Œèˆ‡è§£æ³• (Troubleshooting)

| å•é¡Œ | è§£æ³• |
|------|------|
| **Windows Git ä¸­æ–‡äº‚ç¢¼** | `git config core.quotepath false` |
| **æŒ‡ä»¤ç„¡è¼¸å‡º (No Output)** | æ”¹ç”¨ `run_command` å•Ÿå‹• Shell Session + `send_command_input` |
| **Rollup Build å¤±æ•—** | æª¢æŸ¥ `src/meta.json` æ ¼å¼æ˜¯å¦æ­£ç¢º Json |
